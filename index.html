<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Plan de InglÃ©s - 4 Semanas</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }
        
        .header h1 {
            color: #667eea;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 14px;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        
        .stat-card h3 {
            font-size: 32px;
            margin-bottom: 5px;
        }
        
        .stat-card p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .progress-bar {
            width: 100%;
            height: 25px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .week-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .week-btn {
            padding: 12px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            white-space: nowrap;
            transition: all 0.3s;
        }
        
        .week-btn.active {
            background: #667eea;
            color: white;
        }
        
        .day-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
        }
        
        .day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .day-title {
            font-size: 20px;
            color: #667eea;
            font-weight: bold;
        }
        
        .day-badge {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
        }
        
        .activity {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            border: 2px solid #e0e0e0;
        }
        
        .activity-header {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .checkbox {
            width: 24px;
            height: 24px;
            min-width: 24px;
            border: 2px solid #667eea;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            transition: all 0.2s;
        }
        
        .checkbox.checked {
            background: #667eea;
        }
        
        .checkbox.checked::after {
            content: 'âœ“';
            color: white;
            font-size: 16px;
            font-weight: bold;
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-time {
            font-weight: bold;
            color: #764ba2;
            margin-bottom: 5px;
        }
        
        .activity-desc {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .prompt-box {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 13px;
            color: #555;
            font-style: italic;
            position: relative;
        }
        
        .copy-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 8px;
            transition: all 0.2s;
        }
        
        .copy-btn:hover {
            background: #764ba2;
        }
        
        .vocab-input {
            margin-top: 10px;
            display: flex;
            gap: 10px;
        }
        
        .vocab-input input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .add-vocab-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .vocab-count {
            background: #28a745;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            margin-left: 10px;
        }
        
        .actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .hidden {
            display: none;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            z-index: 1000;
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from {
                transform: translateX(-50%) translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸš€ Mi Plan de InglÃ©s</h1>
            <p>Plan Acelerado de 4 Semanas | Nivel A2-B1</p>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <h3 id="tasksCompleted">0</h3>
                <p>Tareas Completadas</p>
            </div>
            <div class="stat-card">
                <h3 id="vocabLearned">0</h3>
                <p>Palabras Aprendidas</p>
            </div>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">0%</div>
        </div>
        
        <div class="week-selector" id="weekSelector"></div>
        
        <div id="daysList"></div>
        
        <div class="actions">
            <button class="btn btn-secondary" onclick="resetProgress()">ðŸ”„ Resetear</button>
            <button class="btn btn-primary" onclick="exportProgress()">ðŸ“¤ Exportar</button>
        </div>
    </div>

    <script>
        const weekData = {
            1: {
                title: "FUNDAMENTOS Y RUTINA",
                subtitle: "Vida Cotidiana y Presente Simple",
                days: [
                    {
                        day: "LUNES",
                        theme: "DÃ­a de Arranque",
                        vocabGoal: 20,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "ObtÃ©n 20 frases esenciales de rutinas diarias",
                                prompt: "Give me 20 essential phrases for daily routines with pronunciation. Include: waking up, eating, working, and going to bed"
                            },
                            {
                                time: "Tarde (20 min)",
                                desc: "Video: 'A Day in My Life' - Easy English. Ver 2 veces (con/sin subs). Anotar 5 palabras nuevas",
                                prompt: ""
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "ConversaciÃ³n sobre tu rutina diaria. Escribe 7 oraciones sobre tu dÃ­a",
                                prompt: "Let's talk about my daily routine. Ask me questions and correct my mistakes. I'm A2-B1 level."
                            }
                        ]
                    },
                    {
                        day: "MARTES",
                        theme: "Grammar Focus",
                        vocabGoal: 15,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Repasa las 20 frases de ayer. Crea 3 oraciones nuevas",
                                prompt: ""
                            },
                            {
                                time: "Tarde (20 min)",
                                desc: "Aprende Present Simple vs Present Continuous con ejercicios",
                                prompt: "Teach me Present Simple vs Present Continuous with 5 exercises. A2-B1 level. Include answers."
                            },
                            {
                                time: "Noche (25 min)",
                                desc: "Lee artÃ­culo en News in Levels (Level 2). Escribe resumen de 5 lÃ­neas",
                                prompt: "I read this article [pega texto]. Ask me 5 comprehension questions and explain difficult words."
                            }
                        ]
                    },
                    {
                        day: "MIÃ‰RCOLES",
                        theme: "Listening Intensive",
                        vocabGoal: 10,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Escucha podcast '6 Minute English' BBC (5 min) - solo audio",
                                prompt: ""
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Escucha MISMO podcast con transcripciÃ³n. Marca 10 palabras desconocidas",
                                prompt: "Explain these words with example sentences: [tu lista]"
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Discute el tema del podcast",
                                prompt: "Let's discuss what I heard in the podcast. The topic was [tema]. Ask me questions."
                            }
                        ]
                    },
                    {
                        day: "JUEVES",
                        theme: "Speaking Practice",
                        vocabGoal: 15,
                        activities: [
                            {
                                time: "MaÃ±ana (15 min)",
                                desc: "Practica 10 preguntas comunes al conocer gente. Responde en voz alta",
                                prompt: "Give me 10 common questions people ask when meeting someone. Then let's practice."
                            },
                            {
                                time: "Tarde (20 min)",
                                desc: "Shadowing: Video de YouTube 5 min. Repite exactamente lo que dice",
                                prompt: ""
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Roleplay: ordenar cafÃ©, pedir direcciones, hacer citas",
                                prompt: "Let's roleplay. You're a barista, I'm ordering coffee. Correct my English after we finish. Start!"
                            }
                        ]
                    },
                    {
                        day: "VIERNES",
                        theme: "Writing Day",
                        vocabGoal: 10,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Repaso semanal: Lee todas tus notas de la semana",
                                prompt: ""
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Escribe 150 palabras: 'My week in English'. Usa 10 palabras nuevas",
                                prompt: "Correct this text. Explain mistakes and suggest better phrases: [tu texto]"
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Ejercicios de gramÃ¡tica basados en tus puntos dÃ©biles",
                                prompt: "Based on my text, give me 5 grammar exercises for my weak points"
                            }
                        ]
                    },
                    {
                        day: "SÃBADO",
                        theme: "Review & Fun",
                        vocabGoal: 0,
                        activities: [
                            {
                                time: "Flexible (30-60 min)",
                                desc: "Crea flashcards con 70 palabras de la semana. Ve serie 30 min con subs en inglÃ©s",
                                prompt: "Quiz me on this week's vocabulary with fill-in-the-blank sentences"
                            }
                        ]
                    },
                    {
                        day: "DOMINGO",
                        theme: "InmersiÃ³n Libre",
                        vocabGoal: 0,
                        activities: [
                            {
                                time: "Flexible (30-90 min)",
                                desc: "Consume contenido que DISFRUTES en inglÃ©s: pelÃ­culas, juegos, lectura",
                                prompt: "Ask me 5 questions in English about my week. Then evaluate my progress and give me 3 tips for next week."
                            }
                        ]
                    }
                ]
            },
            2: {
                title: "PASADO Y EXPERIENCIAS",
                subtitle: "Past Simple, Storytelling",
                days: [
                    {
                        day: "LUNES",
                        theme: "Past Tense Introduction",
                        vocabGoal: 35,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Aprende Past Simple con 15 verbos irregulares comunes",
                                prompt: "Teach me Past Simple with 15 common irregular verbs. Give me example sentences."
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Video: testimonios sobre mejores/peores experiencias. Anota verbos en pasado",
                                prompt: ""
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Habla sobre tu infancia. Cuenta 3 memorias",
                                prompt: "Let's talk about my childhood. Ask me questions in Past Simple. Correct my answers."
                            }
                        ]
                    },
                    {
                        day: "MARTES",
                        theme: "Story Time",
                        vocabGoal: 15,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Lee historia corta en inglÃ©s. Subraya verbos en pasado",
                                prompt: ""
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Escribe 150 palabras sobre algo que te pasÃ³",
                                prompt: "I'll tell you a story about [evento]. Stop me and correct mistakes as I write."
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Practica iniciar historias con diferentes frases",
                                prompt: "Give me 5 sentence starters for telling stories. Then ask me to complete them about my experiences."
                            }
                        ]
                    },
                    {
                        day: "MIÃ‰RCOLES",
                        theme: "Listening: Interviews",
                        vocabGoal: 12,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Busca entrevista en inglÃ©s. Escucha 5 min sin subtÃ­tulos",
                                prompt: ""
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Misma entrevista con subtÃ­tulos. Anota 10 frases Ãºtiles",
                                prompt: "These are 10 phrases from the interview [lista]. Explain them and when to use them."
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Roleplay: entrevista de trabajo sobre tu pasado",
                                prompt: "Interview me in English. Ask about my past experiences, education, and hobbies. Give feedback after."
                            }
                        ]
                    },
                    {
                        day: "JUEVES",
                        theme: "Speaking: Storytelling",
                        vocabGoal: 10,
                        activities: [
                            {
                                time: "MaÃ±ana (15 min)",
                                desc: "Graba voice memo 2 min contando anÃ©cdota. Identifica 3 errores",
                                prompt: ""
                            },
                            {
                                time: "Tarde (20 min)",
                                desc: "Pide correcciÃ³n de errores y practica versiones correctas",
                                prompt: "I recorded myself. These are my mistakes: [lista]. Explain them and give me correct versions."
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Juego Story Chain: construyan historia juntos",
                                prompt: "Let's play 'Story Chain'. I start a sentence, you continue, I continue, etc. Correct me at the end."
                            }
                        ]
                    },
                    {
                        day: "VIERNES",
                        theme: "Writing: Biography",
                        vocabGoal: 10,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Lee biografÃ­a corta en inglÃ©s. Nota estilo y tiempos verbales",
                                prompt: ""
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Escribe tu mini biografÃ­a (200 palabras)",
                                prompt: "Correct my biography. Make it sound more natural and suggest better connecting words."
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Ejercicios Past Simple vs Present Perfect",
                                prompt: "Give me 5 exercises on Past Simple vs Present Perfect"
                            }
                        ]
                    },
                    {
                        day: "SÃBADO",
                        theme: "Review Week 2",
                        vocabGoal: 0,
                        activities: [
                            {
                                time: "Flexible (30-60 min)",
                                desc: "Flashcards 67 palabras. Escucha podcast sobre historia/biografÃ­a",
                                prompt: "Create a story using these 20 words from this week: [lista]. Then I'll try to retell it."
                            }
                        ]
                    },
                    {
                        day: "DOMINGO",
                        theme: "Media Marathon",
                        vocabGoal: 0,
                        activities: [
                            {
                                time: "Flexible (60-120 min)",
                                desc: "2 episodios serie, lee Reddit, escucha mÃºsica en inglÃ©s",
                                prompt: "This week I learned about past tenses. Test my knowledge with 10 questions mixing Present, Past, and Perfect."
                            }
                        ]
                    }
                ]
            },
            3: {
                title: "FUTURO Y CONVERSACIÃ“N",
                subtitle: "Future Tenses, Expressing Opinions",
                days: [
                    {
                        day: "LUNES",
                        theme: "Future Forms",
                        vocabGoal: 20,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Aprende: will, going to, present continuous para futuro",
                                prompt: "Teach me: will, going to, and present continuous for future. Give me 10 examples of each."
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Video: vlogs sobre planes 2025. Identifica formas de futuro",
                                prompt: ""
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Habla de tus planes: maÃ±ana, prÃ³xima semana, prÃ³ximo aÃ±o",
                                prompt: "Ask me about my plans: tomorrow, next week, next year. Correct my future tenses."
                            }
                        ]
                    },
                    {
                        day: "MARTES",
                        theme: "Opinions & Debates",
                        vocabGoal: 15,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Aprende 15 frases para expresar opiniones y estar de acuerdo/en desacuerdo",
                                prompt: "Give me 15 phrases for expressing opinions, agreeing, and disagreeing politely."
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Lee artÃ­culo de opiniÃ³n. Identifica frases que usa el autor",
                                prompt: ""
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Debate sobre tema controversial (redes sociales, trabajo remoto, IA)",
                                prompt: "Let's debate: [tema]. I'll give my opinion, you challenge me. Use A2-B1 level."
                            }
                        ]
                    },
                    {
                        day: "MIÃ‰RCOLES",
                        theme: "Predictions & Possibilities",
                        vocabGoal: 12,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Modales para predicciones: might, may, could, will probably",
                                prompt: "Teach me modal verbs for predictions: might, may, could, will probably. Give examples."
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Podcast sobre tecnologÃ­a/futuro. Anota predicciones",
                                prompt: ""
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Discute futuro de tu Ã¡rea de interÃ©s",
                                prompt: "Let's talk about the future of [tu interÃ©s]. Ask me what I think will happen. Correct my predictions."
                            }
                        ]
                    },
                    {
                        day: "JUEVES",
                        theme: "Real Conversation Practice",
                        vocabGoal: 15,
                        activities: [
                            {
                                time: "MaÃ±ana (15 min)",
                                desc: "10 conversation starters para small talk",
                                prompt: "Give me 10 conversation starters for small talk. Then let's practice each one."
                            },
                            {
                                time: "Tarde (20 min)",
                                desc: "Video: conversaciones reales en la calle. Pausa y responde tÃº",
                                prompt: ""
                            },
                            {
                                time: "Noche (25 min)",
                                desc: "ConversaciÃ³n de 15 minutos sobre temas aleatorios",
                                prompt: "Let's have a 15-minute conversation. Pick random topics. Speak naturally. Correct me only at the end."
                            }
                        ]
                    },
                    {
                        day: "VIERNES",
                        theme: "Writing: Opinion Essay",
                        vocabGoal: 10,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Lee ensayo de opiniÃ³n corto. Nota estructura",
                                prompt: ""
                            },
                            {
                                time: "Tarde (30 min)",
                                desc: "Escribe ensayo de opiniÃ³n 250 palabras sobre IA o tema que elijas",
                                prompt: "Correct my essay. Focus on: argument structure, opinion phrases, and grammar. Suggest improvements."
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Reescribe pÃ¡rrafos dÃ©biles y compara versiones",
                                prompt: ""
                            }
                        ]
                    },
                    {
                        day: "SÃBADO",
                        theme: "Conversation Marathon",
                        vocabGoal: 0,
                        activities: [
                            {
                                time: "Flexible (45-75 min)",
                                desc: "ConversaciÃ³n de 30 min sobre 5 temas aleatorios",
                                prompt: "Let's do 30-minute conversation practice. You pick 5 random topics. I'll talk about each for 5 minutes. Give feedback after."
                            }
                        ]
                    },
                    {
                        day: "DOMINGO",
                        theme: "Cultural Content",
                        vocabGoal: 15,
                        activities: [
                            {
                                time: "Flexible (60-90 min)",
                                desc: "Documental en inglÃ©s. Pausa cada 10 min y resume en voz alta",
                                prompt: "This week was about future and opinions. Have a conversation with me covering all tenses: past, present, future. Evaluate my progress."
                            }
                        ]
                    }
                ]
            },
            4: {
                title: "INTEGRACIÃ“N Y FLUIDEZ",
                subtitle: "Mixed Skills, Real-World Practice",
                days: [
                    {
                        day: "LUNES",
                        theme: "Real-World Scenarios",
                        vocabGoal: 25,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Frases Ãºtiles para: restaurante, direcciones, citas, compras",
                                prompt: "Give me useful phrases for: ordering food, asking directions, making appointments, shopping."
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Videos de situaciones reales. Anota frases Ãºtiles",
                                prompt: ""
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Roleplay 4 escenarios. Practica ambos roles",
                                prompt: "Let's roleplay 4 scenarios: restaurant, store, bank, doctor. Switch roles halfway."
                            }
                        ]
                    },
                    {
                        day: "MARTES",
                        theme: "Job Interview Prep",
                        vocabGoal: 15,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "15 preguntas comunes de entrevistas de trabajo",
                                prompt: "Give me 15 common job interview questions in English."
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Prepara respuestas a 5 preguntas. Escribe 3-4 oraciones cada una",
                                prompt: "Correct my interview answers. Make them sound professional."
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Entrevista de trabajo simulada para tu campo",
                                prompt: "Interview me for a [tu campo] position. Ask tough questions. Give feedback on my answers."
                            }
                        ]
                    },
                    {
                        day: "MIÃ‰RCOLES",
                        theme: "Phone Conversations",
                        vocabGoal: 10,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Frases para conversaciones telefÃ³nicas",
                                prompt: "Teach me phone conversation phrases: answering, asking for someone, leaving messages, ending calls."
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Ejemplos de llamadas telefÃ³nicas en YouTube",
                                prompt: ""
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Practica llamadas: cita, queja servicio, llamar amigo",
                                prompt: "Let's practice phone calls. Scenarios: booking appointment, customer service complaint, calling a friend. You start each call."
                            }
                        ]
                    },
                    {
                        day: "JUEVES",
                        theme: "Presentation Skills",
                        vocabGoal: 12,
                        activities: [
                            {
                                time: "MaÃ±ana (15 min)",
                                desc: "Estructura para presentaciÃ³n sobre tema que dominas",
                                prompt: "Give me a presentation structure for introducing [tema que dominas]. Include useful phrases."
                            },
                            {
                                time: "Tarde (25 min)",
                                desc: "Prepara presentaciÃ³n 5 min: hobby, trabajo, ciudad",
                                prompt: ""
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Graba tu presentaciÃ³n y pide feedback",
                                prompt: "I presented this topic [texto]. Give feedback on clarity, vocabulary, and grammar."
                            }
                        ]
                    },
                    {
                        day: "VIERNES",
                        theme: "Final Writing Challenge",
                        vocabGoal: 10,
                        activities: [
                            {
                                time: "MaÃ±ana (10 min)",
                                desc: "Repasa notas de 4 semanas. Identifica tu mayor mejora",
                                prompt: ""
                            },
                            {
                                time: "Tarde (30 min)",
                                desc: "Escribe 400 palabras: 'My Journey Learning English - 4 Weeks'",
                                prompt: "Correct this comprehensive text. Compare it with my Week 1 writing. Show my improvement and remaining challenges."
                            },
                            {
                                time: "Noche (20 min)",
                                desc: "Lee feedback completo. Celebra tu progreso",
                                prompt: ""
                            }
                        ]
                    },
                    {
                        day: "SÃBADO",
                        theme: "Final Evaluation",
                        vocabGoal: 0,
                        activities: [
                            {
                                time: "Flexible (60-90 min)",
                                desc: "Test completo + conversaciÃ³n final de 20 min",
                                prompt: "Give me a comprehensive English test covering: grammar (all tenses), vocabulary, reading comprehension, and conversation. A2-B1 level."
                            },
                            {
                                time: "",
                                desc: "ConversaciÃ³n de evaluaciÃ³n final",
                                prompt: "Let's have a 20-minute natural conversation. Mix all topics from 4 weeks. Evaluate my improvement from Week 1. Give me a level assessment."
                            }
                        ]
                    },
                    {
                        day: "DOMINGO",
                        theme: "Celebration & Planning",
                        vocabGoal: 0,
                        activities: [
                            {
                                time: "Flexible (30-60 min)",
                                desc: "ReflexiÃ³n final. Ve pelÃ­cula sin subs (desafÃ­o). Planea prÃ³ximos 3 meses",
                                prompt: "Based on my 4-week journey, create a personalized 3-month plan to reach B2 level. Include new strategies and resources."
                            }
                        ]
                    }
                ]
            }
        };

        let currentWeek = 1;
        let progress = {
            tasksCompleted: {},
            vocabCount: 0,
            weekVocab: {1: 0, 2: 0, 3: 0, 4: 0}
        };

        function loadProgress() {
            const saved = localStorage.getItem('englishPlanProgress');
            if (saved) {
                progress = JSON.parse(saved);
            }
        }

        function saveProgress() {
            localStorage.setItem('englishPlanProgress', JSON.stringify(progress));
            updateStats();
        }

        function updateStats() {
            const totalTasks = Object.keys(progress.tasksCompleted).filter(k => progress.tasksCompleted[k]).length;
            document.getElementById('tasksCompleted').textContent = totalTasks;
            document.getElementById('vocabLearned').textContent = progress.vocabCount;
            
            const totalPossibleTasks = Object.values(weekData).reduce((sum, week) => {
                return sum + week.days.reduce((daySum, day) => daySum + day.activities.length, 0);
            }, 0);
            
            const percentage = Math.round((totalTasks / totalPossibleTasks) * 100);
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressBar').textContent = percentage + '%';
        }

        function renderWeekSelector() {
            const selector = document.getElementById('weekSelector');
            selector.innerHTML = '';
            
            for (let i = 1; i <= 4; i++) {
                const btn = document.createElement('button');
                btn.className = 'week-btn' + (i === currentWeek ? ' active' : '');
                btn.textContent = `Semana ${i}`;
                btn.onclick = () => {
                    currentWeek = i;
                    renderWeekSelector();
                    renderDays();
                };
                selector.appendChild(btn);
            }
        }

        function renderDays() {
            const daysList = document.getElementById('daysList');
            daysList.innerHTML = '';
            
            const week = weekData[currentWeek];
            const header = document.createElement('div');
            header.style.marginBottom = '20px';
            header.innerHTML = `
                <h2 style="color: #667eea; font-size: 24px; margin-bottom: 5px;">
                    Semana ${currentWeek}: ${week.title}
                </h2>
                <p style="color: #666; font-size: 14px;">${week.subtitle}</p>
            `;
            daysList.appendChild(header);
            
            week.days.forEach((day, dayIndex) => {
                const dayCard = document.createElement('div');
                dayCard.className = 'day-card';
                
                const dayHeader = document.createElement('div');
                dayHeader.className = 'day-header';
                dayHeader.innerHTML = `
                    <div>
                        <div class="day-title">${day.day}</div>
                        <div style="color: #666; font-size: 14px; margin-top: 5px;">${day.theme}</div>
                    </div>
                    <div>
                        <span class="day-badge">${day.vocabGoal > 0 ? day.vocabGoal + ' palabras' : 'PrÃ¡ctica'}</span>
                        ${day.vocabGoal > 0 ? `<span class="vocab-count" id="vocab-w${currentWeek}d${dayIndex}">${progress.weekVocab[currentWeek] || 0}</span>` : ''}
                    </div>
                `;
                dayCard.appendChild(dayHeader);
                
                day.activities.forEach((activity, actIndex) => {
                    const activityDiv = document.createElement('div');
                    activityDiv.className = 'activity';
                    
                    const taskId = `w${currentWeek}d${dayIndex}a${actIndex}`;
                    const isCompleted = progress.tasksCompleted[taskId] || false;
                    
                    activityDiv.innerHTML = `
                        <div class="activity-header">
                            <div class="checkbox ${isCompleted ? 'checked' : ''}" onclick="toggleTask('${taskId}')"></div>
                            <div class="activity-content">
                                <div class="activity-time">${activity.time}</div>
                                <div class="activity-desc">${activity.desc}</div>
                                ${activity.prompt ? `
                                    <div class="prompt-box">
                                        <strong>ðŸ’¬ Prompt:</strong> "${activity.prompt}"
                                        <button class="copy-btn" onclick="copyPrompt('${activity.prompt.replace(/'/g, "\\'")}')">
                                            ðŸ“‹ Copiar
                                        </button>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                    
                    dayCard.appendChild(activityDiv);
                });
                
                if (day.vocabGoal > 0) {
                    const vocabInput = document.createElement('div');
                    vocabInput.className = 'vocab-input';
                    vocabInput.innerHTML = `
                        <input type="number" min="0" placeholder="Â¿CuÃ¡ntas palabras aprendiste hoy?" id="vocabInput-w${currentWeek}d${dayIndex}">
                        <button class="add-vocab-btn" onclick="addVocab(${currentWeek}, ${dayIndex})">âž• Agregar</button>
                    `;
                    dayCard.appendChild(vocabInput);
                }
                
                daysList.appendChild(dayCard);
            });
        }

        function toggleTask(taskId) {
            progress.tasksCompleted[taskId] = !progress.tasksCompleted[taskId];
            saveProgress();
            renderDays();
        }

        function addVocab(week, day) {
            const input = document.getElementById(`vocabInput-w${week}d${day}`);
            const count = parseInt(input.value) || 0;
            
            if (count > 0) {
                progress.vocabCount += count;
                progress.weekVocab[week] = (progress.weekVocab[week] || 0) + count;
                saveProgress();
                renderDays();
                showToast(`âœ… ${count} palabras agregadas!`);
                input.value = '';
            }
        }

        function copyPrompt(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('ðŸ“‹ Prompt copiado! PÃ©galo en Claude o ChatGPT');
            });
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        function resetProgress() {
            if (confirm('Â¿EstÃ¡s seguro de que quieres resetear todo tu progreso?')) {
                progress = {
                    tasksCompleted: {},
                    vocabCount: 0,
                    weekVocab: {1: 0, 2: 0, 3: 0, 4: 0}
                };
                saveProgress();
                renderDays();
                showToast('ðŸ”„ Progreso reseteado');
            }
        }

        function exportProgress() {
            const report = `
ðŸ“Š MI PROGRESO EN INGLÃ‰S - 4 SEMANAS
======================================

âœ… Tareas completadas: ${Object.keys(progress.tasksCompleted).filter(k => progress.tasksCompleted[k]).length}
ðŸ“š Palabras aprendidas: ${progress.vocabCount}

Por semana:
- Semana 1: ${progress.weekVocab[1] || 0} palabras
- Semana 2: ${progress.weekVocab[2] || 0} palabras
- Semana 3: ${progress.weekVocab[3] || 0} palabras
- Semana 4: ${progress.weekVocab[4] || 0} palabras

Generado: ${new Date().toLocaleDateString('es-MX')}

Â¡Sigue asÃ­! ðŸš€
            `.trim();
            
            navigator.clipboard.writeText(report).then(() => {
                showToast('ðŸ“¤ Reporte copiado al portapapeles!');
            });
        }

        loadProgress();
        renderWeekSelector();
        renderDays();
    </script>
</body>
</html>
